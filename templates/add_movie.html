{% extends "layout.html" %}

{% block content %}

<script>
    let new_movie_id = {{ new_movie_id | tojson }};
</script>

<div class="container mt-4">
    <h2>Add a New Movie</h2>

    <div id="movie-success-message" style="display: none;"></div>
    <form id="add-movie-form">
        <div class="mb-3">
            <label for="movie-title" class="form-label">Movie Title</label>
            <input type="text" class="form-control" id="movie-title" name="title" placeholder="Enter movie title" required>
        </div>

        <div class="mb-3">
            <label for="release-year" class="form-label">Release Year</label>
            <input type="number" class="form-control" id="release-year" name="release_year" placeholder="Enter release year" required>
        </div>

        <div class="mb-3">
            <label for="movie-image" class="form-label">Movie Poster URL</label>
            <input type="url" class="form-control" id="movie-image" name="image" placeholder="Enter image URL" required>
        </div>

        <div class="mb-3">
            <label for="movie-summary" class="form-label">Movie Summary</label>
            <textarea class="form-control" id="movie-summary" name="summary" rows="3" placeholder="Enter a brief movie summary" required></textarea>
        </div>

        <div class="mb-3">
            <label for="directors" class="form-label">Director(s)</label>
            <input type="text" class="form-control" id="directors" name="director" placeholder="Enter director names, separated by commas" required>
        </div>

        <div class="mb-3">
            <label for="actors" class="form-label">Actors</label>
            <input type="text" class="form-control" id="actors" name="actors" placeholder="Enter actor names, separated by commas" required>
        </div>

        <div class="mb-3">
            <label for="budget" class="form-label">Budget ($)</label>
            <input type="number" class="form-control" id="budget" name="budget" placeholder="Enter movie budget" min="0" required>
        </div>

        <div class="mb-3">
            <label class="form-label">Ratings</label>
            <div class="row">
                <div class="col-md-3">
                    <input type="number" class="form-control" id="imdb" name="ratings[imdb]" placeholder="IMDb Rating" required>
                </div>
                <div class="col-md-3">
                    <input type="number" class="form-control" id="rotten_tomatoes" name="ratings[rotten_tomatoes]" placeholder="Rotten Tomatoes" required>
                </div>
                <div class="col-md-3">
                    <input type="number" class="form-control" id="common_sense" name="ratings[common_sense]" placeholder="Common Sense Rating" required>
                </div>
                <div class="col-md-3">
                    <input type="number" class="form-control" id="google_ratings" name="ratings[google_ratings]" placeholder="Google Ratings" required>
                </div>
            </div>
        </div>

        <div class="mb-3">
            <label for="genres" class="form-label">Genres</label>
            <input type="text" class="form-control" id="genres" name="genres" placeholder="Enter genres, separated by commas" required>
        </div>

        <div class="mb-3">
            <label for="similar-movies" class="form-label">Similar Movie IDs</label>
            <input type="text" class="form-control" id="similar-movies" name="similar_movie_ids" placeholder="Enter similar movie IDs, separated by commas" required>
        </div>

        <button type="submit" class="btn btn-primary" id="submit-movie-btn">Add Movie</button>
    </form>
</div>

{% endblock %}
